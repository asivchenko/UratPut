–¢–µ—Ä–º–∏–Ω ¬´–ø–æ–ø—É–≥–∞–∏¬ª (–≤ –∫–∞–≤—ã—á–∫–∞—Ö) –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–ª–∞–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–∞ ‚Äî —ç—Ç–æ —à—É—Ç–ª–∏–≤–æ–µ, –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ —É—Å–ª–æ–≤–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü "—Å—Ç–æ–∏–º–æ—Å—Ç–∏" –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Oracle –≤ –∫–æ–ª–æ–Ω–∫–µ COST –≤ EXPLAIN PLAN –∏–ª–∏ DBMS_XPLAN.
üîπ –ß—Ç–æ –∑–Ω–∞—á–∏—Ç COST (–∏ –ø–æ—á–µ–º—É ¬´–ø–æ–ø—É–≥–∞–∏¬ª)?

    Oracle –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ø–ª–∞–Ω–µ.

    –°—Ç–æ–∏–º–æ—Å—Ç—å (COST) –≤—ã—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –≤—Ä–µ–º–µ–Ω–µ–º, —Å—Ç—Ä–æ–∫–∞–º–∏ –∏–ª–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é.

    –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –ø—Ä–æ–∑–≤–∞–ª–∏ —ç—Ç–∏ –µ–¥–∏–Ω–∏—Ü—ã ¬´–ø–æ–ø—É–≥–∞—è–º–∏¬ª ‚Äî —Ç.–∫. —ç—Ç–æ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ–µ, –Ω–æ —Å—Ä–∞–≤–Ω–∏–º–æ–µ –º–µ–∂–¥—É —Å–æ–±–æ–π.

üîÅ –§—Ä–∞–∑–∞:

    "–£ —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ cost = 200 –ø–æ–ø—É–≥–∞–µ–≤, –∞ —É —Ç–æ–π ‚Äî 500 –ø–æ–ø—É–≥–∞–µ–≤. –ó–Ω–∞—á–∏—Ç, –ø–µ—Ä–≤–∞—è –ª–µ–≥—á–µ."

üîπ –û—Ç —á–µ–≥–æ –∑–∞–≤–∏—Å–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ "–ø–æ–ø—É–≥–∞–µ–≤" (COST)?

    –û—Ü–µ–Ω–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ (ROWS).

    –†–∞–∑–º–µ—Ä —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω–¥–µ–∫—Å–æ–≤.

    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ª–æ–Ω–æ–∫.

    –¢–∏–ø –¥–æ—Å—Ç—É–ø–∞: FULL SCAN, INDEX RANGE SCAN, NESTED LOOP –∏ —Ç.–¥.

    –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å.

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (db_file_multiblock_read_count, cpu_costing –∏ —Ç. –¥.)

üîπ –ü—Ä–∏–º–µ—Ä –≤ –ø–ª–∞–Ω–µ:

--------------------------------------------------------------------------------------
| Id | Operation          | Name      | Rows  | Bytes | Cost (%CPU)| Time     |
--------------------------------------------------------------------------------------
|  0 | SELECT STATEMENT   |           |       |       |   15 (100) |          |
|  1 |  TABLE ACCESS FULL | EMPLOYEES |  1000 | 13000 |   15   (0) | 00:00:01 |
--------------------------------------------------------------------------------------

üîπ –¢—É—Ç Cost = 15 ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å —Ç–µ —Å–∞–º—ã–µ "–ø–æ–ø—É–≥–∞–∏". Oracle –≥–æ–≤–æ—Ä–∏—Ç: "—ç—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —É—Å–ª–æ–≤–Ω–æ —Å—Ç–æ–∏—Ç 15 –µ–¥–∏–Ω–∏—Ü —É—Å–∏–ª–∏–π".
üîπ –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:

    COST ‚â† —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

    –≠—Ç–æ –æ—Ü–µ–Ω–∫–∞, –∏ Oracle –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—ë –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–ª–∞–Ω–∞ ‚Äî —Å—Ä–∞–≤–Ω–∏–≤–∞—è "—Å—Ç–æ–∏–º–æ—Å—Ç—å" —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

    –ù–∏–∑–∫–∏–π cost ‚Äî –Ω–µ –≤—Å–µ–≥–¥–∞ –æ–∑–Ω–∞—á–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—Ä–æ—Å, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–æ—Ö–∞—è –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ—Ç–∏–ø–∏—á–Ω—ã.
‚úÖ –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–∑ –ø–∞–∫–µ—Ç–∞ java.util.concurrent

–û–Ω–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç ConcurrentModificationException –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.
–ö–æ–ª–ª–µ–∫—Ü–∏—è	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
ConcurrentHashMap<K, V>	–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–º–µ–Ω–∞ HashMap
CopyOnWriteArrayList<E>	–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–º–µ–Ω–∞ ArrayList
CopyOnWriteArraySet<E>	–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–º–µ–Ω–∞ HashSet
ConcurrentSkipListMap<K, V>	–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π TreeMap (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
ConcurrentSkipListSet<E>	–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π TreeSet
BlockingQueue –∏ –µ—ë —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:	–û—á–µ—Ä–µ–¥–∏ —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
‚Üí ArrayBlockingQueue, LinkedBlockingQueue, PriorityBlockingQueue, DelayQueue	
ConcurrentLinkedQueue	–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –æ—á–µ—Ä–µ–¥—å (FIFO)
ConcurrentLinkedDeque	–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å–ø–∏—Å–æ–∫
üî∏ Collections.synchronizedXXX()

–≠—Ç–æ —Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏, –Ω–æ —Å –≤–Ω–µ—à–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π:

List<String> list = Collections.synchronizedList(new ArrayList<>());
Set<Integer> set = Collections.synchronizedSet(new HashSet<>());
Map<String, String> map = Collections.synchronizedMap(new HashMap<>());

‚ö†Ô∏è –ù–æ –≤–∞–∂–Ω–æ: –∏—Ç–µ—Ä–∞—Ü–∏—è –≤—Å—ë –µ—â—ë –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞ ‚Äî –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

synchronized (list) {
    for (String item : list) {
        // –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø
    }
}

üî∏ Vector, Hashtable, Stack ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

    –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–µ.

    –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–¥–∫–æ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

    –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ConcurrentHashMap, CopyOnWriteArrayList, Deque –∏ —Ç.–¥.

üß† –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
–°—Ü–µ–Ω–∞—Ä–∏–π	–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è
–ß–∞—Å—Ç—ã–µ —á—Ç–µ–Ω–∏—è, —Ä–µ–¥–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è	CopyOnWriteArrayList, CopyOnWriteArraySet
–í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Map	ConcurrentHashMap
–û—á–µ—Ä–µ–¥–∏ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏	LinkedBlockingQueue, ConcurrentLinkedQueue
–°–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è Map –≤ –ø–æ—Ç–æ–∫–∞—Ö	ConcurrentSkipListMap
–ù—É–∂–Ω–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è List, –Ω–æ –±–µ–∑ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π	Collections.synchronizedList()
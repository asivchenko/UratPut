
üîπ –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ HashMap (Java 8+)

–í –æ—Å–Ω–æ–≤–µ HashMap –ª–µ–∂–∏—Ç:

–ú–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤ (buckets) ‚Üí –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç: —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–ª–∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ

üîß –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

    –ú–∞—Å—Å–∏–≤ (Node<K,V>[] table) ‚Äî –æ—Å–Ω–æ–≤–∞, –∫—É–¥–∞ –ø–æ–º–µ—â–∞—é—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã.

    –ö–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ ‚Äî —ç—Ç–æ —Ü–µ–ø–æ—á–∫–∞ (LinkedList) –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤ Node<K, V> –∏–ª–∏ –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (–ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫–æ–ª–ª–∏–∑–∏–π).

    –ö–∞–∂–¥—ã–π Node<K,V> —Å–æ–¥–µ—Ä–∂–∏—Ç:

        –∫–ª—é—á (key)

        –∑–Ω–∞—á–µ–Ω–∏–µ (value)

        hash

        —Å—Å—ã–ª–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª (next)

üìà –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:
‚úÖ put(K key, V value) ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ:

    –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è hashCode() –∫–ª—é—á–∞.

    –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (spread) ‚Üí –∏–Ω–¥–µ–∫—Å –º–∞—Å—Å–∏–≤–∞.

    –ï—Å–ª–∏ –±–∞–∫–µ—Ç –ø—É—Å—Ç–æ–π ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞.

    –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ç–∞–∫–∏–º —Ö—ç—à–µ–º:

        –ï—Å–ª–∏ –∫–ª—é—á —Å–æ–≤–ø–∞–¥–∞–µ—Ç (equals) ‚Üí –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ.

        –ò–Ω–∞—á–µ ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Ü–µ–ø–æ—á–∫—É –∏–ª–∏ –¥–µ—Ä–µ–≤–æ.

    –ï—Å–ª–∏ –¥–ª–∏–Ω–∞ —Ü–µ–ø–æ—á–∫–∏ > 8 –∏ —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ > 64 ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ü–µ–ø–æ—á–∫—É –≤ –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ.

‚úÖ get(K key) ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ:

    –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ö—ç—à –∏ –∏–Ω–¥–µ–∫—Å.

    –ü—Ä–æ—Ö–æ–¥ –ø–æ —Ü–µ–ø–æ—á–∫–µ (–∏–ª–∏ –¥–µ—Ä–µ–≤—É) –≤ –±–∞–∫–µ—Ç–µ.

    –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π —á–µ—Ä–µ–∑ equals().

üîÑ –ö–æ–ª–ª–∏–∑–∏–∏

    –ö–æ–ª–ª–∏–∑–∏—è ‚Äî —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –¥–≤–∞ –∫–ª—é—á–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å (–ø–æ —Ö—ç—à—É).

    –†–µ—à–∞–µ—Ç—Å—è —Ü–µ–ø–æ—á–∫–∞–º–∏ (LinkedList) –∏–ª–∏ –¥–µ—Ä–µ–≤—å—è–º–∏ (TreeNode).

üîÅ –†–µ—Å–∞–π–∑ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)

    –ï—Å–ª–∏ size > loadFactor * capacity (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.75f), —Ç–æ:

        –°–æ–∑–¥–∞—ë—Ç—Å—è –º–∞—Å—Å–∏–≤ –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ.

        –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–µ-—Ö—ç—à–∏—Ä—É—é—Ç—Å—è (–ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è).

initialCapacity = 16;
threshold = 16 * 0.75 = 12; // –ø—Ä–∏ 13 —ç–ª–µ–º–µ–Ω—Ç–µ –±—É–¥–µ—Ç resize

üîê –ö–∞–∫ HashMap –∏—Å–ø–æ–ª—å–∑—É–µ—Ç hashCode() –∏ equals():
–ú–µ—Ç–æ–¥	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
hashCode()	–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∫–µ—Ç (—è—á–µ–π–∫—É –º–∞—Å—Å–∏–≤–∞)
equals()	–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∫–ª—é—á–µ–π
üî• –ß—Ç–æ –¥–æ–±–∞–≤–∏–ª–æ—Å—å –≤ Java 8:

    –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö –¥–ª–∏–Ω–Ω–µ–µ 8 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–µ –º–∞—Å—Å–∏–≤–∞ ‚â• 64, —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –ø–æ–∏—Å–∫ —Å O(n) –¥–æ O(log n).

üß† –í–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –ø–æ —Ç–µ–º–µ:

    –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å equals() –±–µ–∑ hashCode()?

    –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω—è–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, List) –∫–∞–∫ –∫–ª—é—á–∏?

    –ö–∞–∫ –≤–ª–∏—è–µ—Ç —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –∏ loadFactor –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å?
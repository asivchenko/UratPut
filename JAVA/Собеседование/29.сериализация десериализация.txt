üöÄ –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è?
 
    –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–π—Ç, —á—Ç–æ–±—ã:
 
        —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª,
 
        –ø–µ—Ä–µ–¥–∞—Ç—å –ø–æ —Å–µ—Ç–∏,
 
        –∑–∞–ø–∏—Å–∞—Ç—å –≤ –ë–î.
 
    –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å: –∏–∑ –±–∞–π—Ç–æ–≤ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏.
 
üîß –ö–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ Java?
1Ô∏è‚É£ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Serializable
 
–ß—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å, –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:
 
import java.io.Serializable;
 
public class Person implements Serializable {
    private static final long serialVersionUID = 1L; // —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
 
    private String name;
    private int age;
 
    // –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –≥–µ—Ç—Ç–µ—Ä—ã, —Å–µ—Ç—Ç–µ—Ä—ã
}
 
    –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Serializable –º–∞—Ä–∫–µ—Ä–Ω—ã–π, —Ç–æ –µ—Å—Ç—å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥–æ–≤ ‚Äî –æ–Ω –ø—Ä–æ—Å—Ç–æ —Å–æ–æ–±—â–∞–µ—Ç JVM, —á—Ç–æ —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å.
 
2Ô∏è‚É£ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ñ–∞–π–ª
 
import java.io.FileOutputStream;
import java.io.ObjectOutputStream;
 
Person p = new Person("Alice", 30);
 
try (ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream("person.ser"))) {
    oos.writeObject(p);
    System.out.println("Person object serialized."); } catch (Exception e) {
    e.printStackTrace();
}
 
    writeObject –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç –≤ –ø–æ—Ç–æ–∫.
 
    .ser ‚Äî –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –±–∏–Ω–∞—Ä–Ω–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
 
3Ô∏è‚É£ –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ —Ñ–∞–π–ª–∞
 
import java.io.FileInputStream;
import java.io.ObjectInputStream;
 
try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream("person.ser"))) {
    Person p = (Person) ois.readObject();
    System.out.println("Person deserialized: " + p.getName() + ", age " + p.getAge()); } catch (Exception e) {
    e.printStackTrace();
}
 
    readObject –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Object, —Ç–∞–∫ —á—Ç–æ –Ω—É–∂–µ–Ω –∫–∞—Å—Ç –∫ Person.
 
üî• –ü–æ–ª–µ–∑–Ω—ã–µ –¥–µ—Ç–∞–ª–∏
 
‚úÖ serialVersionUID
 
    –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–µ—Ä—Å–∏–∏ –∫–ª–∞—Å—Å–∞ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
 
    –ï—Å–ª–∏ –∫–ª–∞—Å—Å –∏–∑–º–µ–Ω–∏–ª—Å—è, –Ω–æ serialVersionUID –æ—Å—Ç–∞–ª—Å—è —Ç–µ–º –∂–µ ‚Äî —Å—Ç–∞—Ä—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏.
 
    –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å, Java –≤—ã—á–∏—Å–ª–∏—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∫–ª–∞—Å—Å–∞), —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ InvalidClassException –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏.
 
‚úÖ transient
 
    –ü–æ–ª—è, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ transient, –Ω–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è.
 
private transient String password;
 
üìå –ü—Ä–∏–º–µ—Ä —Å transient
 
class User implements Serializable {
    private String username;
    private transient String password;
    // ...
}
 
    –ü—Ä–∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ password –±—É–¥–µ—Ç null.
 
üìù –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö?
 
    –î–ª—è –∫—ç—à–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –Ω–∞ –¥–∏—Å–∫).
 
    –î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ —Å–µ—Ç–∏ (RPC, –Ω–∞–ø—Ä–∏–º–µ—Ä RMI).
 
    –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–Ω–∞–ø—à–æ—Ç–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
 
‚úÖ –ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥
–û–ø–µ—Ä–∞—Ü–∏—è    –ö–∞–∫ –¥–µ–ª–∞—Ç—å
–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è    ObjectOutputStream.writeObject(obj)
–î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è    ObjectInputStream.readObject() (—Å –∫–∞—Å—Ç–æ–º)
 
--
